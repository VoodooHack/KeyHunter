name: Build Android APK

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: Install system dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y \
          git zip unzip openjdk-17-jdk wget \
          autoconf libtool pkg-config \
          zlib1g-dev libncurses5-dev libncursesw5-dev \
          libtinfo5 cmake libffi-dev libssl-dev

    - name: Install buildozer and dependencies
      run: |
        pip install --upgrade pip
        pip install buildozer cython==0.29.36

    - name: Build APK with buildozer
      run: |
        buildozer android debug

    - name: Upload APK artifact
      uses: actions/upload-artifact@v3
      with:
        name: eth-key-scanner-apk
        path: bin/*.apk
        retention-days: 30
```

4. Click **"Commit changes"** (green button)

5. Now go to the **"Actions"** tab - you should see "Build Android APK" on the left!

### Option 2: If you already uploaded files incorrectly

If you uploaded the files but they're in the wrong place:

1. Go to your repository main page
2. Look at your file list - do you see a folder called `.github`?
3. If NOT, follow Option 1 above
4. If YES, click into it â†’ click into `workflows` â†’ check if `build.yml` is there

---

## ğŸš€ After Upload:

Once the file is in the right place:

1. Go to **Actions** tab
2. You'll see "Build Android APK" workflow on the left
3. Click it
4. Click **"Run workflow"** dropdown on the right
5. Click the green **"Run workflow"** button
6. Wait 30-40 minutes
7. Download your APK from Artifacts!

---

**Quick check:** After you create the file, your repository should look like this:
```
your-repo/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ build.yml    â† This file triggers the build
â”œâ”€â”€ main.py
â”œâ”€â”€ eth_key_scanner.py
â”œâ”€â”€ buildozer.spec
â””â”€â”€ requirements.txt
